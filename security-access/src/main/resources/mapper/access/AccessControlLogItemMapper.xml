<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ruoyi.access.mapper.AccessControlLogItemMapper">

    <resultMap type="AccessControlLogItem" id="AccessControlLogItemResult">
        <id property="id" column="id"/>
        <result property="timestamp" column="timestamp"/>
        <result property="status" column="status"/>
        <result property="src_ip" column="src_ip"/>
        <result property="dst_ip" column="dst_ip"/>
        <result property="src_port" column="src_port"/>
        <result property="dst_port" column="dst_port"/>
    </resultMap>

    <sql id="selectAccessCtrlVo">
        select id,
        timestamp,
        status,
        src_ip,
        dst_ip,
        src_port,
        dst_port
        from access_ctrl_log_item
    </sql>

    <select id="selectList" parameterType="AccessControlLogItem"
            resultMap="AccessControlLogItemResult">
        <include refid="selectAccessCtrlVo"/>
        order by timestamp DESC
    </select>

    <insert id="insertOne" parameterType="AccessControlLogItem">
        insert into access_ctrl_log_item (
        timestamp,
        status,
        src_ip,
        dst_ip,
        src_port,
        dst_port
        )
        values (
        #{timestamp},
        #{status},
        #{src_ip},
        #{dst_ip},
        #{src_port},
        #{dst_port}
        )
    </insert>
</mapper>